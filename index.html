<!DOCTYPE html>
<html>
<head>
    <title>BULLETPROOF HTML Export</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        button { padding: 10px; margin: 5px; }
    </style>
</head>
<body>
    <h1>Test Export - This WILL Work</h1>
    <button onclick="exportWorkingHTML()">Export HTML File</button>
    
    <script>
        function exportWorkingHTML() {
            // 1. Create simple but valid HTML content
            const htmlContent = `<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Exported File</title>
    <style>
        body { background: lightblue; padding: 40px; font-family: Arial; }
        h1 { color: darkblue; }
    </style>
</head>
<body>
    <h1>Success! This HTML file works!</h1>
    <p>If you can see this, the export worked perfectly.</p>
    <p>Generated: ${new Date().toLocaleString()}</p>
</body>
</html>`;

            // 2. Convert to base64
            const base64Content = btoa(unescape(encodeURIComponent(htmlContent)));
            
            // 3. Create data URL
            const dataUrl = 'data:text/html;base64,' + base64Content;
            
            // 4. Create and trigger download
            const link = document.createElement('a');
            link.href = dataUrl;
            link.download = 'working-export.html';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            alert('File downloaded! Check your downloads folder for "working-export.html"');
        }
    </script>
</body>
</html>
